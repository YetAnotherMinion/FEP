\documentclass{article}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{graphicx}
\graphicspath{ {images/} }
\usepackage{amssymb}
\usepackage{adjustbox}
\usepackage{placeins}
\usepackage{geometry}
\usepackage{epstopdf}
\geometry{tmargin = 1in}

% Alter some LaTeX defaults for better treatment of figures:
    % See p.105 of "TeX Unbound" for suggested values.
    % See pp. 199-200 of Lamport's "LaTeX" book for details.
    %   General parameters, for ALL pages:
    \renewcommand{\topfraction}{0.9}    % max fraction of floats at top
    \renewcommand{\bottomfraction}{0.8} % max fraction of floats at bottom
    %   Parameters for TEXT pages (not float pages):
    \setcounter{topnumber}{2}
    \setcounter{bottomnumber}{2}
    \setcounter{totalnumber}{4}     % 2 may work better
    \setcounter{dbltopnumber}{2}    % for 2-column pages
    \renewcommand{\dbltopfraction}{0.9} % fit big float above 2-col. text
    \renewcommand{\textfraction}{0.07}  % allow minimal text w. figs
    %   Parameters for FLOAT pages (not text pages):
    \renewcommand{\floatpagefraction}{0.7}  % require fuller float pages
    % N.B.: floatpagefraction MUST be less than topfraction !!
    \renewcommand{\dblfloatpagefraction}{0.7}   % require fuller float pages

\usepackage{color}
\usepackage{xcolor}
\usepackage{listings}
\lstset{
  language= C++,
        % basicstyle=\scriptsize,
        % aboveskip={1.5\baselineskip},
        % columns=fixed,
        % showstringspaces=false,
        % extendedchars=false,
        % breaklines=true,
        % prebreak = \raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
        frame=single,
        numbers=left,
        % showtabs=false,
        % showspaces=false,
        % showstringspaces=false,
        keywordstyle=\color[HTML]{89BDFF},
        commentstyle=\color[rgb]{0.026,0.112,0.095},
        stringstyle=\color[HTML]{E6DB74},
        numberstyle= \color[rgb]{0.205, 0.142, 0.73}
}

\renewcommand{\algorithmicforall}{\textbf{for each}}

\begin{document}
\title{Assignment 4: Finite Elements Programming}
%\date{}   
\author{Isaiah Bell} 
\maketitle

\section{Methods}

In this code we solve 2D linear elastic problems over isotropic materials.


\section{Program Design}

The Parallel Unstructured Mesh Infrastructure (PUMI) library was heavily plundered to develop this FE code.

The class ElasticAnalysis2D is derived from the base FEAnalysis class and implements
our specific linear elastics definition. This class accepts a PUMI mesh and makes
several assumptions about the mesh structure to determine boundary conditions and
tractions. The mesh is expected to have a series of  

For memory efficiency the algebraric system is assembled as we iterate over all of the
mesh elements. Assemly is simpilfied by the fact we are using isoparametric elements

We extend the apf::Integrator class to implement each stiffnes contributor


\section{Tests}

\subsection{Zero Boundary Constraints, Zero Tractions}
    \subsubsection{Linear Quadrialateral Elements}

    \subsubsection{Linear Triangular Elements}

    \subsubsection{Quadratic Lagrange Quadrialateral Elements}

    \subsubsection{Quadratic Serendipity Quadrilateral Elements}

    \subsubsection{Quadratic Lagrange Triangular Elements}

\subsection{Some Boundary Constraints, Zero Tractions}
    \subsubsection{Linear Quadrialateral Elements}

    \subsubsection{Linear Triangular Elements}

    \subsubsection{Quadratic Lagrange Quadrialateral Elements}

    \subsubsection{Quadratic Serendipity Quadrilateral Elements}

    \subsubsection{Quadratic Lagrange Triangular Elements}

\subsection{Completely Constrained, Zero Tractions}
    \subsubsection{Linear Quadrialateral Elements}

    \subsubsection{Linear Triangular Elements}

    \subsubsection{Quadratic Lagrange Quadrialateral Elements}

    \subsubsection{Quadratic Serendipity Quadrilateral Elements}

    \subsubsection{Quadratic Lagrange Triangular Elements}

\subsection{Some Boundary Constraints, Simple Linear Traction}
    \subsubsection{Linear Quadrialateral Elements}

    \subsubsection{Linear Triangular Elements}

    \subsubsection{Quadratic Lagrange Quadrialateral Elements}

    \subsubsection{Quadratic Serendipity Quadrilateral Elements}

    \subsubsection{Quadratic Lagrange Triangular Elements}

\subsection{Some Boundary Constraints, Simple Body Force}
    \subsubsection{Linear Quadrialateral Elements}

    \subsubsection{Linear Triangular Elements}

    \subsubsection{Quadratic Lagrange Quadrialateral Elements}

    \subsubsection{Quadratic Serendipity Quadrilateral Elements}

    \subsubsection{Quadratic Lagrange Triangular Elements}

\subsection{Some Boundary Constraints, Tractions and Body Forces}
    \subsubsection{Linear Quadrialateral Elements}

    \subsubsection{Linear Triangular Elements}

    \subsubsection{Quadratic Lagrange Quadrialateral Elements}

    \subsubsection{Quadratic Serendipity Quadrilateral Elements}

    \subsubsection{Quadratic Lagrange Triangular Elements}



\section{Pseudo code}

\begin{algorithm}
\begin{algorithmic}

\Procedure{MigrateRegions}{mesh}
    
\EndProcedure

\end{algorithmic}
\end{algorithm}



% \begin{figure}
%     \makebox[\textwidth][c]{\adjustbox{trim= {0.15\width} {0} {0.15\width} {0}, clip}{\includegraphics[width = \textwidth ]{part1_pre_migr}}};
%     \caption{Partition 1 surface before region migration}
% \centering


\lstset{linewidth = 16cm, xrightmargin = 0cm}
\lstlistoflistings
\lstinputlisting[caption = {Test Driver}]{../src/a4.cc}
%includes
\lstinputlisting[caption = {Algebraic System container class}]{../inc/AlgebraicSystem.h}
\lstinputlisting[caption = {Elastic Analysis Class}]{../inc/ElasticAnalysis2D.h}
\lstinputlisting[caption = {Abstract Base FE Analysis class}]{../inc/FEAnalysis.h}
\lstinputlisting[caption = {Force Contributor}]{../inc/ForceContributor2D.h}
\lstinputlisting[caption = {Mesh Builder helper class}]{../inc/MeshBuilder.h}
\lstinputlisting[caption = {Adjacency reordering routine}]{../inc/MeshAdjReorder.h}
\lstinputlisting[caption = {Stiffness Constributor}]{../inc/StiffnessContributor2D.h}


%sources
\lstinputlisting[caption = {Algebraic System implementation}]{../src/AlgebraicSystem.cc}
\lstinputlisting[caption = {Elastic Analysis implementation}]{../src/ElasticAnalysis2D.cc}
\lstinputlisting[caption = {Force Contributor implementation}]{../src/ForceContributor2D.cc}

\lstinputlisting[caption = {Stiffness contributor implementation}]{../src/StiffnessContributor2D.cc}
\lstinputlisting[caption = {Geometry Mapping Implementation}]{../src/GeometryMappings.cc}
\lstinputlisting[caption = {Mesh Adjacency reordering implementation}]{../src/MeshAdjReorder.cc}
\lstinputlisting[caption = {Mesh builder scripts}]{../src/MeshBuilder.cc}

%tests

%Mesh builder unittests are all empty right now and probably wont meaningfully change
%\lstinputlisting[caption = {Mesh builder unittests}]{../src/MeshBuilder_unittest.cc}
\lstinputlisting[caption = {Algebraic System tests}]{../src/AlgebraicSystem_unittest.cc}
\lstinputlisting[caption = {Test node mapping functions}]{../src/ShapeFunctionOrdering_unittest.cc}
\lstinputlisting[caption = {Test mesh generation scripts}]{../src/SimpleRectMesh_unittest.cc}
\lstinputlisting[caption = {Geometry Mapping tests}]{../src/GeometryMappings_unittest.cc}

%build files
\lstinputlisting[caption = {configuration file}]{../config.mk}
\lstinputlisting[caption = {Makefile}]{../Makefile}


\end{document}
